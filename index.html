<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Agent Landing Page</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  /* Global Styles */
  * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; transition: background 0.3s, color 0.3s; }
  :root {
    --bg-color: #f7f9fc;
    --text-color: #333;
    --accent-color: #0b3d91;
    --card-bg: #fff;
    --card-shadow: rgba(0,0,0,0.05);
  }
  body.dark {
    --bg-color: #121212;
    --text-color: #eee;
    --accent-color: #4f8ef7;
    --card-bg: #1e1e1e;
    --card-shadow: rgba(0,0,0,0.4);
  }
  body { background: var(--bg-color); color: var(--text-color); padding: 20px; }

  /* Header / Hero */
  header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; flex-wrap: wrap; }
  header h1 { font-size: 2.5rem; color: var(--accent-color); }
  #theme-toggle { padding: 8px 15px; border-radius: 12px; background: var(--accent-color); color: #fff; border: none; cursor: pointer; }

  /* Main Container */
  .container { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; max-width: 1200px; margin: 0 auto; }
  .container > div { display: flex; flex-direction: column; gap: 15px; }

  /* Prompt / Input Box */
  textarea { width: 100%; height: 120px; padding: 15px; border-radius: 12px; border: 1px solid #ccc; font-size: 1rem; resize: vertical; box-shadow: 0 4px 12px var(--card-shadow); background: var(--card-bg); color: var(--text-color); }
  textarea:focus { border-color: var(--accent-color); outline: none; }

  button { padding: 12px 25px; font-size: 1.1rem; border-radius: 12px; border: none; background: var(--accent-color); color: #fff; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(11,61,145,0.3); }
  button:hover { background: #0e4fbf; transform: translateY(-2px); box-shadow: 0 6px 16px rgba(11,61,145,0.4); }

  /* Response Preview */
  iframe { width: 100%; height: 400px; border: 2px solid var(--accent-color); border-radius: 12px; box-shadow: 0 4px 12px var(--card-shadow); }

  /* Features Section */
  .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-top: 60px; }
  .feature-box { background: var(--card-bg); padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 6px 18px var(--card-shadow); transition: all 0.3s ease; }
  .feature-box:hover { transform: translateY(-5px); box-shadow: 0 10px 25px var(--card-shadow); }
  .feature-box h3 { margin-bottom: 10px; color: var(--accent-color); }
  .feature-box p { font-size: 0.95rem; color: var(--text-color); }

  /* Responsive */
  @media (max-width: 900px) { .container { grid-template-columns: 1fr; } }
</style>
</head>
<body>

<header>
  <h1>AI Website Agent</h1>
  <button id="theme-toggle">Toggle Dark Mode</button>
</header>

<section class="container">
  <!-- Left Column: Prompt / Input -->
  <div>
    <h2>Describe Your Website</h2>
    <textarea id="prompt" placeholder="E.g., create a gym website with animations and modern design"></textarea>
    <button id="generate">Generate Live Preview</button>
  </div>

  <!-- Right Column: Live Preview -->
  <div>
    <h2>Live Preview</h2>
    <iframe id="live-preview"></iframe>
  </div>
</section>

<!-- Feature Boxes -->
<section class="features">
  <div class="feature-box">
    <h3>Responsive Design</h3>
    <p>Automatically adapts to desktop, tablet, and mobile screens.</p>
  </div>
  <div class="feature-box">
    <h3>Clean Code</h3>
    <p>Generated HTML, CSS, JS is organized and editable.</p>
  </div>
  <div class="feature-box">
    <h3>Interactive Elements</h3>
    <p>Includes buttons, animations, and hover effects.</p>
  </div>
  <div class="feature-box">
    <h3>Instant Preview</h3>
    <p>See your website come to life in real time.</p>
  </div>
</section>

<script>
  // Dark Mode Toggle
  const themeToggle = document.getElementById("theme-toggle");
  themeToggle.addEventListener("click", () => document.body.classList.toggle("dark"));

  // Live Preview Generation
  const generateBtn = document.getElementById("generate");
  const promptInput = document.getElementById("prompt");
  const livePreview = document.getElementById("live-preview");

  generateBtn.addEventListener("click", async () => {
    const prompt = promptInput.value.trim();
    if(!prompt) return alert("Please enter a description.");

    livePreview.srcdoc = "<p>Generating preview...</p>";

    try {
      const res = await fetch("/api/ai-generate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ prompt }),
      });
      const data = await res.json();
      const generatedCode = data.output || "<p>No response from AI.</p>";
      livePreview.srcdoc = generatedCode; // Show live preview in iframe
    } catch(err) {
      console.error(err);
      livePreview.srcdoc = "<p>Error generating preview.</p>";
    }
  });
</script>

</body>
</html>
